package controllers

import play.api._
import play.api.mvc._
import com.codahale.jerkson.Json
import models._
<<<<<<< HEAD
import models.RotaVO
=======
import play.api.libs.ws.WS
import play.api.libs.ws.Response
import scala.collection.immutable.Nil
import play.api.libs.concurrent.Promise
import models.wsGeo.WSGeo
import models.wsGeo.Carrier

>>>>>>> 1e47aba6514c1681372e24143e9f5680e56c519f

object Application extends Controller {

	def index = Action {
		
		Ok(views.html.index("Your new application is ready."))
		
	}

	def estados = Action {
  	
    val json = Json.generate(Estado.all())
    Ok(json).as("application/json")

  }

  def getRotas(idTransportadora: Long) = Action {

    object rota {
      var id:Long = 0
      var pontos:Seq[Int] = Seq(1, 2, 3)
    }
    
  	//val transportadora = Transportadora.findById(idTransportadora)
    val json = Json.generate(rota)
    Ok(json).as("application/json")

  }

	def testeWsRotas = Action {
		var transportadora: Transportadora = new Transportadora(45, 1)
		var carrier: Carrier = new Carrier(transportadora)
		
		var json:String = WSGeo.getRotasTransportadora(carrier)
		Ok(json).as("application/json")
	}
}
